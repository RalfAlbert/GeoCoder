var GCB,gcb,geocoderl10n,pagenow;if("undefined"===jQuery||"undefined"===google){var google=null;var jQuery=null}if(null!==(jQuery&&google)){jQuery(document).ready(function(e){GCB.init()})}(function(e){GCB={fields:{msg:e("#geco_msg"),lng:e("#geco_lon"),lat:e("#geco_lat"),zip:e("#geco_zip"),city:e("#geco_city"),street:e("#geco_street")},geocoder:new google.maps.Geocoder,init:function(){gcb=this;e("#geco_convert").click(function(){gcb.sc()});e("#geco_clear_address").click(function(){gcb.fields.zip.val("");gcb.fields.city.val("");gcb.fields.street.val("")});e("#geco_clear_latlng").click(function(){gcb.fields.lat.val("");gcb.fields.lng.val("")})},sc:function(){var e="";for(var t in gcb.fields){if("undefined"!==typeof gcb.fields[t]){e=e+gcb.fields[t].val()}}if(e.length<1){gcb.fields.msg.text(geocoderl10n.error_no_data);return null}var n={zip:gcb.fields.zip.val(),city:gcb.fields.city.val(),street:gcb.fields.street.val()};var r={lat:gcb.fields.lat.val(),lng:gcb.fields.lng.val()};if(""===r.lat|""===r.lng){gcb.ca(n)}else{gcb.cll(r)}},cll:function(t){gcb.fields.msg.text(geocoderl10n.please_wait);var n=new google.maps.LatLng(parseFloat(t.lat),parseFloat(t.lng));gcb.geocoder.geocode({latLng:n},function(t,n){if(n===google.maps.GeocoderStatus.OK){var r=t[0].formatted_address.split(",",3);var i=e.trim(r[1]).split(" ");gcb.fields.street.val(r[0]);gcb.fields.zip.val(i[0]);gcb.fields.city.val(i[1]);gcb.fields.msg.text("")}else{gcb.fields.msg.text(geocoderl10n.gmaps_err+n)}})},ca:function(e){var t=e.street+","+e.zip+" "+e.city;gcb.geocoder.geocode({address:t},function(e,t){if(t===google.maps.GeocoderStatus.OK){gcb.fields.lat.val(e[0].geometry.location.Ya);gcb.fields.lng.val(e[0].geometry.location.Za);if("settings_page_geocoder"===pagenow){gcb.fields.msg.text(geocoderl10n.save_data_msg)}else{gcb.fields.msg.text("")}}else{gcb.fields.msg.text(geocoderl10n.gmaps_err+t)}})}}})(jQuery)